#define DefEnum(title, size) enum class title : size { 
#define EndDefEnum(title, size, max) Count, }; \
	static_assert(static_cast<size>(title :: Count) < static_cast<size>(max), "too many entries of type " #title " defined!");
#define EnumEntry(name) name,
#define Def(type) DefEnum(type, byte)
#define EndDef(type, max) EndDefEnum(type, byte, max)
#define MaxOps ArchitectureConstants::MaxOperations

DefEnum(InstructionGroup, byte)
	EnumEntry(Arithmetic)
	EnumEntry(Move)
	EnumEntry(Jump)
	EnumEntry(Compare)
	EnumEntry(Misc)
EndDefEnum(InstructionGroup, byte, ArchitectureConstants::MaxGroups)

// title, id, operation, action
DefEnum(ArithmeticOp, byte)
	EnumEntry(Add)
	EnumEntry(Sub)
	EnumEntry(Mul)
	EnumEntry(Div)
	EnumEntry(Rem)
	EnumEntry(ShiftLeft)
	EnumEntry(ShiftRight)
	EnumEntry(BinaryAnd)
	EnumEntry(BinaryOr)
	EnumEntry(BinaryNot)
	EnumEntry(BinaryXor)
	EnumEntry(AddImmediate)
	EnumEntry(SubImmediate)
	EnumEntry(MulImmediate)
	EnumEntry(DivImmediate)
	EnumEntry(RemImmediate)
	EnumEntry(ShiftLeftImmediate)
	EnumEntry(ShiftRightImmediate)
EndDefEnum(ArithmeticOp, byte, ArchitectureConstants::MaxOperations)


DefEnum(MiscOp, byte)
	EnumEntry(SystemCall)
EndDefEnum(MiscOp, byte, ArchitectureConstants::MaxOperations)

// title, id, ifthenelseform?, conditional?, iffalse?, immediate?, link?
DefEnum(JumpOp, byte)
	EnumEntry(UnconditionalImmediate)
	EnumEntry(UnconditionalImmediateLink)
	EnumEntry(UnconditionalRegister)
	EnumEntry(UnconditionalRegisterLink)
	EnumEntry(ConditionalTrueImmediate) 
	EnumEntry(ConditionalTrueImmediateLink)
	EnumEntry(ConditionalTrueRegister)
	EnumEntry(ConditionalTrueRegisterLink)
	EnumEntry(ConditionalFalseImmediate)
	EnumEntry(ConditionalFalseImmediateLink)
	EnumEntry(ConditionalFalseRegister)
	EnumEntry(ConditionalFalseRegisterLink)
	EnumEntry(IfThenElseNormalPredTrue)
	EnumEntry(IfThenElseNormalPredFalse)
	EnumEntry(IfThenElseLinkPredTrue)
	EnumEntry(IfThenElseLinkPredFalse)
EndDefEnum(JumpOp, byte, ArchitectureConstants::MaxOperations)

Def(SystemCalls)
	EnumEntry(Terminate)
	EnumEntry(GetC)
	EnumEntry(PutC)
EndDef(SystemCalls, MaxOps)

Def(MoveOp)
	EnumEntry(Move)
	EnumEntry(Set)
	EnumEntry(Swap)
	EnumEntry(Load)
	EnumEntry(LoadImmediate)
	EnumEntry(Store)
	EnumEntry(Memset)
	EnumEntry(Push)
	EnumEntry(PushImmediate)
	EnumEntry(Pop)
	EnumEntry(LoadCode)
	EnumEntry(StoreCode)
	EnumEntry(ExtendedMemoryWrite)
	EnumEntry(ExtendedMemoryRead)
EndDef(MoveOp, MaxOps)

Def(CompareOp)
	EnumEntry(Eq) 
	EnumEntry(EqImm) 
	EnumEntry(Neq) 
	EnumEntry(NeqImm) 
	EnumEntry(LessThan) 
	EnumEntry(LessThanImm) 
	EnumEntry(GreaterThan) 
	EnumEntry(GreaterThanImm) 
	EnumEntry(LessThanOrEqualTo) 
	EnumEntry(LessThanOrEqualToImm) 
	EnumEntry(GreaterThanOrEqualTo) 
	EnumEntry(GreaterThanOrEqualToImm) 
EndDef(CompareOp, MaxOps)

#undef Def
#undef EndDef
#undef MaxOps
#undef DefEnum
#undef EndDefEnum
#undef EnumEntry
