;-----------------------------------------------------------------------------
; to run this
; irisasm example2.iris
; irislink v.obj
; iris v.img
;-----------------------------------------------------------------------------
setl r0 string ; address
setu r0 string
setl r1 0 ; load cell
setu r1 0 ; load cell
setl r2 0 ; predicate cell 
setu r2 0 ; predicate cell 
setl r3 0 ; zero cell
setu r3 0 ; zero cell
setl r4 done
setu r4 done
setl r5 continue
setu r5 continue
@label continue
ld r1 r0
ne r2 r1 r3
jf r2 r4
system 2 r1 r1 
addi r0 r0 1
j r5
@label done
system 0 r0 r0
@org 0x80000
; thread 1's instruction address
setl r0 wait_loop
setu r0 wait_loop
@label wait_loop
j r0

@org 0x40000
@label string
@word 0x46
@word 0x75
@word 0x63
@word 0x6B
@word 0x20
@word 0x79
@word 0x6F
@word 0x75
@word 0x20
@word 0x4D
@word 0x65
@word 0x6E
@word 0x64
@word 0x65
@word 0x7A
@word 0x2E
@word 0x0A
@word 0x46
@word 0x75
@word 0x63
@word 0x6B
@word 0x20
@word 0x79
@word 0x6F
@word 0x75
@word 0x20
@word 0x41
@word 0x69
@word 0x72
@word 0x65
@word 0x6E
@word 0x2E
@word 0x0A
@word 0x00
